3d5634fc3cd5355cb79fb3ef8a45b7ff
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _reactNative = require("react-native");
var _global$expo, _global$expo$modules;
var LegacyNativeProxy = _reactNative.NativeModules.NativeUnimoduleProxy;
var ExpoNativeProxy = (_global$expo = global.expo) == null ? void 0 : (_global$expo$modules = _global$expo.modules) == null ? void 0 : _global$expo$modules.NativeModulesProxy;
var modulesConstantsKey = 'modulesConstants';
var exportedMethodsKey = 'exportedMethods';
var NativeModulesProxy = {};
if (LegacyNativeProxy) {
  var NativeProxy = ExpoNativeProxy != null ? ExpoNativeProxy : LegacyNativeProxy;
  Object.keys(NativeProxy[exportedMethodsKey]).forEach(function (moduleName) {
    NativeModulesProxy[moduleName] = NativeProxy[modulesConstantsKey][moduleName] || {};
    NativeProxy[exportedMethodsKey][moduleName].forEach(function (methodInfo) {
      NativeModulesProxy[moduleName][methodInfo.name] = function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (ExpoNativeProxy != null && ExpoNativeProxy.callMethod) {
          return ExpoNativeProxy.callMethod(moduleName, methodInfo.name, args);
        }
        var key = methodInfo.key,
          argumentsCount = methodInfo.argumentsCount;
        if (argumentsCount !== args.length) {
          return Promise.reject(new Error(`Native method ${moduleName}.${methodInfo.name} expects ${argumentsCount} ${argumentsCount === 1 ? 'argument' : 'arguments'} but received ${args.length}`));
        }
        return LegacyNativeProxy.callMethod(moduleName, key, args);
      };
    });
    if (_reactNative.NativeModules.EXReactNativeEventEmitter) {
      NativeModulesProxy[moduleName].addListener = function () {
        var _NativeModules$EXReac;
        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }
        return (_NativeModules$EXReac = _reactNative.NativeModules.EXReactNativeEventEmitter).addProxiedListener.apply(_NativeModules$EXReac, [moduleName].concat(args));
      };
      NativeModulesProxy[moduleName].removeListeners = function () {
        var _NativeModules$EXReac2;
        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
          args[_key3] = arguments[_key3];
        }
        return (_NativeModules$EXReac2 = _reactNative.NativeModules.EXReactNativeEventEmitter).removeProxiedListeners.apply(_NativeModules$EXReac2, [moduleName].concat(args));
      };
    } else {
      NativeModulesProxy[moduleName].addListener = function () {};
      NativeModulesProxy[moduleName].removeListeners = function () {};
    }
  });
} else {
  console.warn(`The "EXNativeModulesProxy" native module is not exported through NativeModules; verify that expo-modules-core's native code is linked properly`);
}
var _default = exports.default = NativeModulesProxy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2dsb2JhbCRleHBvIiwiX2dsb2JhbCRleHBvJG1vZHVsZXMiLCJMZWdhY3lOYXRpdmVQcm94eSIsIk5hdGl2ZU1vZHVsZXMiLCJOYXRpdmVVbmltb2R1bGVQcm94eSIsIkV4cG9OYXRpdmVQcm94eSIsImdsb2JhbCIsImV4cG8iLCJtb2R1bGVzIiwiTmF0aXZlTW9kdWxlc1Byb3h5IiwibW9kdWxlc0NvbnN0YW50c0tleSIsImV4cG9ydGVkTWV0aG9kc0tleSIsIk5hdGl2ZVByb3h5IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJtb2R1bGVOYW1lIiwibWV0aG9kSW5mbyIsIm5hbWUiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNhbGxNZXRob2QiLCJrZXkiLCJhcmd1bWVudHNDb3VudCIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsIkVYUmVhY3ROYXRpdmVFdmVudEVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsIl9OYXRpdmVNb2R1bGVzJEVYUmVhYyIsIl9sZW4yIiwiX2tleTIiLCJhZGRQcm94aWVkTGlzdGVuZXIiLCJhcHBseSIsImNvbmNhdCIsInJlbW92ZUxpc3RlbmVycyIsIl9OYXRpdmVNb2R1bGVzJEVYUmVhYzIiLCJfbGVuMyIsIl9rZXkzIiwicmVtb3ZlUHJveGllZExpc3RlbmVycyIsImNvbnNvbGUiLCJ3YXJuIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uL3NyYy9OYXRpdmVNb2R1bGVzUHJveHkubmF0aXZlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5hdGl2ZU1vZHVsZXMgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbXBvcnQgeyBQcm94eU5hdGl2ZU1vZHVsZSB9IGZyb20gJy4vTmF0aXZlTW9kdWxlc1Byb3h5LnR5cGVzJztcblxuY29uc3QgTGVnYWN5TmF0aXZlUHJveHkgPSBOYXRpdmVNb2R1bGVzLk5hdGl2ZVVuaW1vZHVsZVByb3h5O1xuLy8gRml4ZXMgYGNhbm5vdCBmaW5kIG5hbWUgJ2dsb2JhbCcuYCBpbiB0ZXN0c1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgRXhwb05hdGl2ZVByb3h5ID0gZ2xvYmFsLmV4cG8/Lm1vZHVsZXM/Lk5hdGl2ZU1vZHVsZXNQcm94eTtcblxuY29uc3QgbW9kdWxlc0NvbnN0YW50c0tleSA9ICdtb2R1bGVzQ29uc3RhbnRzJztcbmNvbnN0IGV4cG9ydGVkTWV0aG9kc0tleSA9ICdleHBvcnRlZE1ldGhvZHMnO1xuXG5jb25zdCBOYXRpdmVNb2R1bGVzUHJveHk6IHsgW21vZHVsZU5hbWU6IHN0cmluZ106IFByb3h5TmF0aXZlTW9kdWxlIH0gPSB7fTtcblxuaWYgKExlZ2FjeU5hdGl2ZVByb3h5KSB7XG4gIC8vIHVzZSBKU0kgcHJveHkgaWYgYXZhaWxhYmxlLCBmYWxsYmFjayB0byBsZWdhY3kgUk4gcHJveHlcbiAgY29uc3QgTmF0aXZlUHJveHkgPSBFeHBvTmF0aXZlUHJveHkgPz8gTGVnYWN5TmF0aXZlUHJveHk7XG5cbiAgT2JqZWN0LmtleXMoTmF0aXZlUHJveHlbZXhwb3J0ZWRNZXRob2RzS2V5XSkuZm9yRWFjaCgobW9kdWxlTmFtZSkgPT4ge1xuICAgIC8vIGNvcHkgY29uc3RhbnRzXG4gICAgTmF0aXZlTW9kdWxlc1Byb3h5W21vZHVsZU5hbWVdID0gTmF0aXZlUHJveHlbbW9kdWxlc0NvbnN0YW50c0tleV1bbW9kdWxlTmFtZV0gfHwge307XG5cbiAgICAvLyBjb3B5IG1ldGhvZHNcbiAgICBOYXRpdmVQcm94eVtleHBvcnRlZE1ldGhvZHNLZXldW21vZHVsZU5hbWVdLmZvckVhY2goKG1ldGhvZEluZm8pID0+IHtcbiAgICAgIE5hdGl2ZU1vZHVsZXNQcm94eVttb2R1bGVOYW1lXVttZXRob2RJbmZvLm5hbWVdID0gKC4uLmFyZ3M6IHVua25vd25bXSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICAgIC8vIFVzZSB0aGUgbmV3IHByb3h5IHRvIGNhbGwgbWV0aG9kcyBvbiBsZWdhY3kgbW9kdWxlcywgaWYgcG9zc2libGUuXG4gICAgICAgIGlmIChFeHBvTmF0aXZlUHJveHk/LmNhbGxNZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gRXhwb05hdGl2ZVByb3h5LmNhbGxNZXRob2QobW9kdWxlTmFtZSwgbWV0aG9kSW5mby5uYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSBmYWxsIGJhY2sgdG8gdGhlIGxlZ2FjeSBwcm94eS5cbiAgICAgICAgLy8gVGhpcyBpcyBkZXByZWNhdGVkIGFuZCBtaWdodCBiZSByZW1vdmVkIGluIFNESzQ3IG9yIGxhdGVyLlxuICAgICAgICBjb25zdCB7IGtleSwgYXJndW1lbnRzQ291bnQgfSA9IG1ldGhvZEluZm87XG4gICAgICAgIGlmIChhcmd1bWVudHNDb3VudCAhPT0gYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBOYXRpdmUgbWV0aG9kICR7bW9kdWxlTmFtZX0uJHttZXRob2RJbmZvLm5hbWV9IGV4cGVjdHMgJHthcmd1bWVudHNDb3VudH0gJHtcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNDb3VudCA9PT0gMSA/ICdhcmd1bWVudCcgOiAnYXJndW1lbnRzJ1xuICAgICAgICAgICAgICB9IGJ1dCByZWNlaXZlZCAke2FyZ3MubGVuZ3RofWBcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWdhY3lOYXRpdmVQcm94eS5jYWxsTWV0aG9kKG1vZHVsZU5hbWUsIGtleSwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gVGhlc2UgYXJlIGNhbGxlZCBieSBFdmVudEVtaXR0ZXIgKHdoaWNoIGlzIGEgd3JhcHBlciBmb3IgTmF0aXZlRXZlbnRFbWl0dGVyKVxuICAgIC8vIG9ubHkgb24gaU9TIGFuZCB0aGV5IHVzZSBpT1Mtc3BlY2lmaWMgbmF0aXZlIG1vZHVsZSwgRVhSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlci5cbiAgICAvL1xuICAgIC8vIE9uIEFuZHJvaWQgb25seSB7c3RhcnQsc3RvcH1PYnNlcnZpbmcgYXJlIGNhbGxlZCBvbiB0aGUgbmF0aXZlIG1vZHVsZVxuICAgIC8vIGFuZCB0aGVzZSBzaG91bGQgYmUgZXhwb3J0ZWQgYXMgRXhwbyBtZXRob2RzLlxuICAgIC8vXG4gICAgLy8gQmVmb3JlIHRoZSBSTiA2NSwgYWRkTGlzdGVuZXIvcmVtb3ZlTGlzdGVuZXJzIHdlcmVuJ3QgY2FsbGVkIG9uIEFuZHJvaWQuIEhvd2V2ZXIsIGl0IG5vIGxvbmdlciBzdGF5cyB0cnVlLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2NvbW1pdC9mNTUwMmZiZGE5ZmUyNzFmZjZlMWQwZGE3NzNhM2E4ZWUyMDZhNDUzLlxuICAgIC8vIFRoYXQncyB3aHksIHdlIGNoZWNrIGlmIHRoZSBgRVhSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlcmAgZXhpc3RzIGFuZCBvbmx5IGlmIHllcywgd2UgdXNlIGl0IGluIHRoZSBsaXN0ZW5lciBpbXBsZW1lbnRhdGlvbi5cbiAgICAvLyBPdGhlcndpc2UsIHRob3NlIG1ldGhvZHMgYXJlIE5PT1AuXG4gICAgaWYgKE5hdGl2ZU1vZHVsZXMuRVhSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlcikge1xuICAgICAgTmF0aXZlTW9kdWxlc1Byb3h5W21vZHVsZU5hbWVdLmFkZExpc3RlbmVyID0gKC4uLmFyZ3MpID0+XG4gICAgICAgIE5hdGl2ZU1vZHVsZXMuRVhSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlci5hZGRQcm94aWVkTGlzdGVuZXIobW9kdWxlTmFtZSwgLi4uYXJncyk7XG4gICAgICBOYXRpdmVNb2R1bGVzUHJveHlbbW9kdWxlTmFtZV0ucmVtb3ZlTGlzdGVuZXJzID0gKC4uLmFyZ3MpID0+XG4gICAgICAgIE5hdGl2ZU1vZHVsZXMuRVhSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlci5yZW1vdmVQcm94aWVkTGlzdGVuZXJzKG1vZHVsZU5hbWUsIC4uLmFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaXhlcyBvbiBBbmRyb2lkOlxuICAgICAgLy8gV0FSTiAgYG5ldyBOYXRpdmVFdmVudEVtaXR0ZXIoKWAgd2FzIGNhbGxlZCB3aXRoIGEgbm9uLW51bGwgYXJndW1lbnQgd2l0aG91dCB0aGUgcmVxdWlyZWQgYGFkZExpc3RlbmVyYCBtZXRob2QuXG4gICAgICAvLyBXQVJOICBgbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcigpYCB3YXMgY2FsbGVkIHdpdGggYSBub24tbnVsbCBhcmd1bWVudCB3aXRob3V0IHRoZSByZXF1aXJlZCBgcmVtb3ZlTGlzdGVuZXJzYCBtZXRob2QuXG4gICAgICBOYXRpdmVNb2R1bGVzUHJveHlbbW9kdWxlTmFtZV0uYWRkTGlzdGVuZXIgPSAoKSA9PiB7fTtcbiAgICAgIE5hdGl2ZU1vZHVsZXNQcm94eVttb2R1bGVOYW1lXS5yZW1vdmVMaXN0ZW5lcnMgPSAoKSA9PiB7fTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc29sZS53YXJuKFxuICAgIGBUaGUgXCJFWE5hdGl2ZU1vZHVsZXNQcm94eVwiIG5hdGl2ZSBtb2R1bGUgaXMgbm90IGV4cG9ydGVkIHRocm91Z2ggTmF0aXZlTW9kdWxlczsgdmVyaWZ5IHRoYXQgZXhwby1tb2R1bGVzLWNvcmUncyBuYXRpdmUgY29kZSBpcyBsaW5rZWQgcHJvcGVybHlgXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdGl2ZU1vZHVsZXNQcm94eTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUE2QyxJQUFBQyxZQUFBLEVBQUFDLG9CQUFBO0FBSTdDLElBQU1DLGlCQUFpQixHQUFHQywwQkFBYSxDQUFDQyxvQkFBb0I7QUFHNUQsSUFBTUMsZUFBZSxJQUFBTCxZQUFBLEdB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